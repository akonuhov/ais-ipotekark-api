webpackJsonp([7],{"3pfn":function(t,a){},J6jV:function(t,a){},SgIz:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("HMpe"),i={name:"perfect-scrollbar",props:{options:{default:function(){}}},mounted:function(){this.$ps=new e.a(this.$el,this.options)},beforeDestroy:function(){this.$ps&&(this.$ps.destroy(),this.$ps=null)}},n=s("XyMi");var c=function(t){s("d8s/")},r={name:"PageChat",metaInfo:{title:"Chat - Pages"},components:{PerfectScrollbar:Object(n.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},[],!1,c,null,null).exports,MainLayout:s("RThI").a},data:function(){return{sideboxOpen:!1,user:{avatar:"1-small.png"},contactsData:[{avatar:"4-small.png",name:"Константин Кобанец",username:"kfrazier",online:!0,newMessages:0}],chatData:{user:"kfrazier",status:"Печатает...",messages:[]}}},computed:{chatUser:function(){for(var t=0,a=this.contactsData.length;t<a;t++)if(this.contactsData[t].username===this.chatData.user)return this.contactsData[t]},chatContacts:function(){return[].concat(this.contactsData.reduce(function(t,a){return a.online&&t.push(a),t},[]).sort(function(t,a){var s=t.name.toUpperCase(),e=a.name.toUpperCase();return s<e?-1:s>e?1:0})).concat(this.contactsData.reduce(function(t,a){return a.online||t.push(a),t},[]).sort(function(t,a){var s=t.name.toUpperCase(),e=a.name.toUpperCase();return s<e?-1:s>e?1:0}))}}};var l=function(t){s("J6jV"),s("3pfn")},o=Object(n.a)(r,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("main-layout",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"chat-wrapper container-p-x container-p-y",class:{"chat-sidebox-open":t.sideboxOpen}},[s("b-card",{staticClass:"flex-grow-1 position-relative overflow-hidden",attrs:{"no-body":""}},[s("div",{staticClass:"row no-gutters h-100"},[s("div",{staticClass:"chat-sidebox col"},[s("div",{staticClass:"flex-grow-0 px-4"},[s("div",{staticClass:"media align-items-center"},[s("div",{staticClass:"media-body"},[s("b-input",{staticClass:"chat-search my-3",attrs:{placeholder:"Поиск..."}})],1),t._v(" "),s("a",{staticClass:"chat-sidebox-toggler d-lg-none d-block text-muted text-large font-weight-light pl-3",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.sideboxOpen=!t.sideboxOpen}}},[t._v("×")])]),t._v(" "),s("hr",{staticClass:"border-light m-0"})]),t._v(" "),s("div",{staticClass:"flex-grow-1 position-relative"},[s("perfect-scrollbar",{staticClass:"chat-contacts list-group chat-scroll py-3",attrs:{options:{suppressScrollX:!0,wheelPropagation:!0}}},t._l(t.chatContacts,function(a){return s("a",{staticClass:"list-group-item list-group-item-action",class:{online:a.online,active:t.chatData&&t.chatData.user===a.username},attrs:{href:"javascript:void(0)"}},[s("img",{staticClass:"d-block ui-w-40 rounded-circle",attrs:{src:"/static/img/avatars/"+a.avatar,alt:""}}),t._v(" "),s("div",{staticClass:"media-body ml-3"},[t._v("\n                      "+t._s(a.name)+"\n                      "),a.online?s("div",{staticClass:"chat-status small"},[s("span",{staticClass:"badge badge-dot"}),t._v("  Online")]):t._e(),t._v(" "),a.online?t._e():s("div",{staticClass:"chat-status small"},[s("span",{staticClass:"badge badge-dot"}),t._v("  Offline")])]),t._v(" "),a.newMessages?s("div",{staticClass:"badge badge-outline-success"},[t._v(t._s(a.newMessages))]):t._e()])}))],1)]),t._v(" "),t.chatData?s("div",{staticClass:"d-flex col flex-column"},[s("div",{staticClass:"flex-grow-0 py-3 pr-4 pl-lg-4"},[s("div",{staticClass:"media align-items-center"},[s("a",{staticClass:"chat-sidebox-toggler d-lg-none d-block text-muted text-large px-4 mr-2",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.sideboxOpen=!t.sideboxOpen}}},[s("i",{staticClass:"ion ion-md-more"})]),t._v(" "),s("div",{staticClass:"position-relative"},[s("span",{staticClass:"badge badge-dot indicator",class:"badge-"+(t.chatUser.online?"success":"danger")}),t._v(" "),s("img",{staticClass:"ui-w-40 rounded-circle",attrs:{src:"/static/img/avatars/"+t.chatUser.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"media-body pl-3"},[s("strong",[t._v(t._s(t.chatUser.name))]),t._v(" "),s("div",{staticClass:"text-muted small"},[s("em",[t._v(t._s(t.chatData.status))])])]),t._v(" "),s("div",[s("b-btn",{attrs:{variant:"default btn-round icon-btn"}},[s("i",{staticClass:"ion ion-ios-more"})])],1)])]),t._v(" "),s("hr",{staticClass:"flex-grow-0 border-light m-0"}),t._v(" "),s("div",{staticClass:"flex-grow-1 position-relative"},[s("perfect-scrollbar",{staticClass:"chat-messages chat-scroll p-4",attrs:{options:{suppressScrollX:!0,wheelPropagation:!0}}},t._l(t.chatData.messages,function(a){return s("div",{staticClass:"mb-4",class:"chat-message-"+(a.you?"right":"left")},[s("div",[s("img",{staticClass:"ui-w-40 rounded-circle",attrs:{src:"/static/img/avatars/"+(a.you?t.user.avatar:t.chatUser.avatar),alt:""}}),t._v(" "),s("div",{staticClass:"text-muted small text-nowrap mt-2"},[t._v(t._s(a.date))])]),t._v(" "),s("div",{staticClass:"flex-shrink-1 bg-lighter rounded py-2 px-3",class:a.you?"mr-3":"ml-3"},[s("div",{staticClass:"font-weight-semibold mb-1"},[t._v(t._s(a.you?"You":t.chatUser.name))]),t._v("\n                      "+t._s(a.text)+"\n                    ")])])}))],1),t._v(" "),s("hr",{staticClass:"border-light m-0"}),t._v(" "),s("div",{staticClass:"flex-grow-0 py-3 px-4"},[s("b-input-group",[s("b-input",{attrs:{placeholder:"Введите сообщение"}}),t._v(" "),s("b-btn",{attrs:{slot:"append",variant:"primary"},slot:"append"},[t._v("Отправить")])],1)],1)]):s("div",{staticClass:"d-flex col justify-content-center align-items-center"},[s("div",{staticClass:"text-lighter text-large"},[t._v("Select a chat")])])])])],1)])])])},[],!1,l,null,null);a.default=o.exports}});